(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/add/add"],{"18b8":function(t,n,i){"use strict";i.r(n);var e=i("2ba5"),o=i("4489");for(var a in o)["default"].indexOf(a)<0&&function(t){i.d(n,t,(function(){return o[t]}))}(a);i("a5b3");var s=i("f0c5"),l=Object(s["a"])(o["default"],e["b"],e["c"],!1,null,null,null,!1,e["a"],void 0);n["default"]=l.exports},"19f6":function(t,n,i){},"2ba5":function(t,n,i){"use strict";i.d(n,"b",(function(){return e})),i.d(n,"c",(function(){return o})),i.d(n,"a",(function(){}));var e=function(){var t=this.$createElement;this._self._c},o=[]},4489:function(t,n,i){"use strict";i.r(n);var e=i("cbfb"),o=i.n(e);for(var a in e)["default"].indexOf(a)<0&&function(t){i.d(n,t,(function(){return e[t]}))}(a);n["default"]=o.a},"7e6b":function(t,n,i){"use strict";(function(t){var n=i("4ea4");i("2b0f"),i("a9ff");n(i("66fd"));var e=n(i("18b8"));wx.__webpack_require_UNI_MP_PLUGIN__=i,t(e.default)}).call(this,i("543d")["createPage"])},a5b3:function(t,n,i){"use strict";var e=i("19f6"),o=i.n(e);o.a},cbfb:function(t,n,i){"use strict";(function(t,e){var o=i("4ea4");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;o(i("e3df"));var a=i("2058"),s={data:function(){return{title:"",author:"",content:"",newsImg:[],loading:!1,loadingText:"发布中",popUpConfig:{show:!1,content:"",status:!0,succStyle:"box-shadow: rgba(142,192,108) 0px 0px 0px 2px;",wrongStyle:"box-shadow: rgba(237,27,46) 0px 0px 0px 2px;"}}},methods:{sumbit:function(){var n=this;this.addArticleStatus()?(this.loading=!0,this.newsImg.length?t.uploadFile({filePath:this.newsImg[0].url,cloudPath:(0,a.getUuid)(),fileType:"image",onUploadProgress:function(t){console.log(t)}}).then((function(t){console.log(t),t.success?n.addArticle(t.fileID):(n.loading=!1,console.log("发布失败"),n.hint("发布失败",!1))})):this.addArticle()):this.hint("不能为空",!1)},addArticle:function(){var n=this,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";t.callFunction({name:"addArticle",data:{title:this.title,author:this.author,content:this.content,imgPath:i,posttime:Date.now()}}).then((function(t){console.log(t),t.result.id?(n.loading=!1,console.log("发布成功"),n.hint("发布成功"),e.navigateBack({delta:9})):(console.log("发布失败"),n.hint("发布失败",!1))}))},inputTitle:function(t){var n=t.detail;this.title=n},inputAuthor:function(t){var n=t.detail;this.author=n},inputContent:function(t){var n=t.detail;this.content=n},clearTitle:function(){this.title=""},clearAuthor:function(){this.author=""},clearContent:function(){this.content=""},deleteNewsImg:function(t){this.newsImg.splice(t.detail.index,1)},addNewsImgAfter:function(t){this.newsImg.push({url:t.detail.file.url,size:t.detail.file.size,isImage:!0})},hint:function(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"xxxx",i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.popUpConfig.status=i,this.popUpConfig.content=n,this.popUpConfig.show=!0;setTimeout((function(){t.popUpConfig.show=!1,t.popUpConfig.content=""}),3e3)},popUpClose:function(){this.popUpConfig.show=!1},addArticleStatus:function(){return this.title.length>0&&this.author.length>0&&this.content.length>0},reset:function(){this.title="",this.author="",this.content="",this.newsImg=[],this.loading=!1}},computed:{}};n.default=s}).call(this,i("a9ff")["default"],i("543d")["default"])}},[["7e6b","common/runtime","common/vendor"]]]);