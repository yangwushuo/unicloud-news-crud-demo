(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/index/index"],{3048:function(e,n,t){"use strict";t.d(n,"b",(function(){return r})),t.d(n,"c",(function(){return o})),t.d(n,"a",(function(){return i}));var i={newsBox:function(){return t.e("components/newsBox/newsBox").then(t.bind(null,"8892"))}},r=function(){var e=this.$createElement;this._self._c},o=[]},"465d":function(e,n,t){"use strict";t.r(n);var i=t("eb6e"),r=t.n(i);for(var o in i)["default"].indexOf(o)<0&&function(e){t.d(n,e,(function(){return i[e]}))}(o);n["default"]=r.a},"58d8":function(e,n,t){"use strict";var i=t("8100"),r=t.n(i);r.a},8100:function(e,n,t){},"916e":function(e,n,t){"use strict";(function(e){var n=t("4ea4");t("2b0f"),t("a9ff");n(t("66fd"));var i=n(t("96e4"));wx.__webpack_require_UNI_MP_PLUGIN__=t,e(i.default)}).call(this,t("543d")["createPage"])},"96e4":function(e,n,t){"use strict";t.r(n);var i=t("3048"),r=t("465d");for(var o in r)["default"].indexOf(o)<0&&function(e){t.d(n,e,(function(){return r[e]}))}(o);t("58d8");var a=t("f0c5"),s=Object(a["a"])(r["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],void 0);n["default"]=s.exports},eb6e:function(e,n,t){"use strict";(function(e,i){var r=t("4ea4");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=r(t("448a")),a={data:function(){return{news:[],num:10,newsHintStauts:!0,scrollConfig:{lowerThreshold:20,refresherEnabled:!0,refresherThreshold:45,refresherDefaultStyle:"white",refresherBackground:"white",refresherTriggered:!1},overlayConfig:{show:!1,imgSrc:""}}},onShow:function(){this.getNews()},methods:{getMoreNews:function(){console.log("开始触底刷新"),this.getNews(this.news.length,2)},getLatestNews:function(){console.log("开始刷新开启"),this._freshing||(this._freshing=!0,this.scrollConfig.refresherTriggered=!0,this.getNews(0,1))},getNews:function(){var n=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;e.callFunction({name:"getArticle",data:{num:this.num,start:t}}).then((function(e){if(0==i)n.news=e.result.data;else if(1==i){var t;console.log(e.result.data);var r=e.result.data.map((function(e){for(var t=0;t<n.news.length;t++)if(e._id==n.news[t]._id)return;return e}));console.log(r),r=r.filter((function(e){return e})),console.log(r),(t=n.news).unshift.apply(t,(0,o.default)(r)),n.scrollConfig.refresherTriggered=!1,n._freshing=!1,console.log("开始刷新结束")}else if(2==i){var a;if(0==e.result.data.length)n.newsHintStauts=!1;else(a=n.news).push.apply(a,(0,o.default)(e.result.data))}}))},goAdd:function(){i.navigateTo({url:"/pages/add/add"})},goNewsDetail:function(e){var n=e.id;e.title;i.navigateTo({url:"/pages/newDetail/newDetail?id=".concat(n)})},popPic:function(e){this.overlayConfig.show=!0,this.overlayConfig.imgSrc=e},onClickHide:function(){this.overlayConfig.show=!1},confirmDelNews:function(n){var t=this;e.callFunction({name:"delArticle",data:{id:n}}).then((function(e){for(var i=0;i<t.news.length;i++)if(t.news[i]._id==n){t.news.splice(i,1);break}}))},confirmUpNews:function(e){i.navigateTo({url:"/pages/edit/edit?id=".concat(e)})}}};n.default=a}).call(this,t("a9ff")["default"],t("543d")["default"])}},[["916e","common/runtime","common/vendor"]]]);