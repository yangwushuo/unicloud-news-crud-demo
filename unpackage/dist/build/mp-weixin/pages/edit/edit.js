(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/edit/edit"],{"11d8":function(t,i,n){"use strict";n.r(i);var e=n("b04a"),o=n.n(e);for(var a in e)["default"].indexOf(a)<0&&function(t){n.d(i,t,(function(){return e[t]}))}(a);i["default"]=o.a},5969:function(t,i,n){"use strict";(function(t){var i=n("4ea4");n("2b0f"),n("a9ff");i(n("66fd"));var e=i(n("9f28"));wx.__webpack_require_UNI_MP_PLUGIN__=n,t(e.default)}).call(this,n("543d")["createPage"])},"7c18":function(t,i,n){"use strict";n.d(i,"b",(function(){return e})),n.d(i,"c",(function(){return o})),n.d(i,"a",(function(){}));var e=function(){var t=this.$createElement;this._self._c},o=[]},"7c6e":function(t,i,n){},"9f28":function(t,i,n){"use strict";n.r(i);var e=n("7c18"),o=n("11d8");for(var a in o)["default"].indexOf(a)<0&&function(t){n.d(i,t,(function(){return o[t]}))}(a);n("f0b1");var l=n("f0c5"),s=Object(l["a"])(o["default"],e["b"],e["c"],!1,null,null,null,!1,e["a"],void 0);i["default"]=s.exports},b04a:function(t,i,n){"use strict";(function(t,e){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var o=n("2058"),a={data:function(){return{id:"",title:"",author:"",content:"",newsImg:[],loading:!1,loadingText:"修改中",popUpConfig:{show:!1,content:"",status:!0,succStyle:"box-shadow: rgba(142,192,108) 0px 0px 0px 2px;",wrongStyle:"box-shadow: rgba(237,27,46) 0px 0px 0px 2px;"}}},onLoad:function(t){var i=t.id;this.id=i,this.getArticleDetail(i)},methods:{getArticleDetail:function(i){var n=this;t.callFunction({name:"getArticleDetail",data:{id:i}}).then((function(t){var i=t.result.data[0],e=i.author,o=i.content,a=i.imgPath,l=i.posttime,s=i.title,u=i._id;n.author=e,n.content=o,n.posttime=l,n.title=s,n.id=u,a&&n.newsImg.push({url:a,isImage:!0,isExist:!0})}))},upArticle:function(){var i=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";t.callFunction({name:"upArticle",data:{id:this.id,title:this.title,author:this.author,content:this.content,imgPath:n}}).then((function(t){console.log(t),1==t.result.updated?(i.loading=!1,console.log("修改成功"),i.hint("修改成功"),e.navigateBack({delta:9})):(console.log("修改失败"),i.hint("修改失败",!1),i.loading=!1)}))},sumbit:function(){var i=this;console.log(this.content,this.title),this.upArticleStatus()?(this.loading=!0,this.newsImg.length?this.newsImg[0].isExist?this.upArticle(this.newsImg[0].url):t.uploadFile({filePath:this.newsImg[0].url,cloudPath:(0,o.getUuid)(),fileType:"image",onUploadProgress:function(t){console.log(t)}}).then((function(t){console.log(t),t.success?i.upArticle(t.fileID):(i.loading=!1,console.log("修改失败"),i.hint("修改失败",!1),i.loading=!1)})):this.upArticle()):this.hint("不能为空",!1)},inputTitle:function(t){var i=t.detail;this.title=i},inputAuthor:function(t){var i=t.detail;this.author=i},inputContent:function(t){var i=t.detail;this.content=i},clearTitle:function(){this.title=""},clearAuthor:function(){this.author=""},clearContent:function(){this.content=""},deleteNewsImg:function(t){this.newsImg.splice(t.detail.index,1)},addNewsImgAfter:function(t){this.newsImg.push({url:t.detail.file.url,size:t.detail.file.size,isImage:!0,isExist:!1})},hint:function(){var t=this,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"xxxx",n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.popUpConfig.status=n,this.popUpConfig.content=i,this.popUpConfig.show=!0;setTimeout((function(){t.popUpConfig.show=!1,t.popUpConfig.content=""}),3e3)},popUpClose:function(){this.popUpConfig.show=!1},upArticleStatus:function(){return this.title.length>0&&this.author.length>0&&this.content.length>0}}};i.default=a}).call(this,n("a9ff")["default"],n("543d")["default"])},f0b1:function(t,i,n){"use strict";var e=n("7c6e"),o=n.n(e);o.a}},[["5969","common/runtime","common/vendor"]]]);